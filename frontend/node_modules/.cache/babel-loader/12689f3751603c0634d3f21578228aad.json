{"ast":null,"code":"const parser = require(\"engine.io-parser\");\n\nconst Emitter = require(\"component-emitter\");\n\nconst debug = require(\"debug\")(\"engine.io-client:transport\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n\n\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n\n\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n\n\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n\n\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      // this might happen if the transport was silently closed in the beforeunload event handler\n      debug(\"transport is not open, discarding packets\");\n    }\n  }\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n\n\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n\n\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n  /**\n   * Called with a decoded packet.\n   */\n\n\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n\n\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n\n}\n\nmodule.exports = Transport;","map":{"version":3,"names":["parser","require","Emitter","debug","Transport","constructor","opts","query","readyState","socket","onError","msg","desc","err","Error","type","description","emit","open","doOpen","close","doClose","onClose","send","packets","write","onOpen","writable","onData","data","packet","decodePacket","binaryType","onPacket","module","exports"],"sources":["C:/Users/Admin/Documents/GitHub/Project/Book-Social-Network/frontend/node_modules/engine.io-client/lib/transport.js"],"sourcesContent":["const parser = require(\"engine.io-parser\");\nconst Emitter = require(\"component-emitter\");\nconst debug = require(\"debug\")(\"engine.io-client:transport\");\n\nclass Transport extends Emitter {\n  /**\n   * Transport abstract constructor.\n   *\n   * @param {Object} options.\n   * @api private\n   */\n  constructor(opts) {\n    super();\n\n    this.opts = opts;\n    this.query = opts.query;\n    this.readyState = \"\";\n    this.socket = opts.socket;\n  }\n\n  /**\n   * Emits an error.\n   *\n   * @param {String} str\n   * @return {Transport} for chaining\n   * @api public\n   */\n  onError(msg, desc) {\n    const err = new Error(msg);\n    err.type = \"TransportError\";\n    err.description = desc;\n    this.emit(\"error\", err);\n    return this;\n  }\n\n  /**\n   * Opens the transport.\n   *\n   * @api public\n   */\n  open() {\n    if (\"closed\" === this.readyState || \"\" === this.readyState) {\n      this.readyState = \"opening\";\n      this.doOpen();\n    }\n\n    return this;\n  }\n\n  /**\n   * Closes the transport.\n   *\n   * @api private\n   */\n  close() {\n    if (\"opening\" === this.readyState || \"open\" === this.readyState) {\n      this.doClose();\n      this.onClose();\n    }\n\n    return this;\n  }\n\n  /**\n   * Sends multiple packets.\n   *\n   * @param {Array} packets\n   * @api private\n   */\n  send(packets) {\n    if (\"open\" === this.readyState) {\n      this.write(packets);\n    } else {\n      // this might happen if the transport was silently closed in the beforeunload event handler\n      debug(\"transport is not open, discarding packets\");\n    }\n  }\n\n  /**\n   * Called upon open\n   *\n   * @api private\n   */\n  onOpen() {\n    this.readyState = \"open\";\n    this.writable = true;\n    this.emit(\"open\");\n  }\n\n  /**\n   * Called with data.\n   *\n   * @param {String} data\n   * @api private\n   */\n  onData(data) {\n    const packet = parser.decodePacket(data, this.socket.binaryType);\n    this.onPacket(packet);\n  }\n\n  /**\n   * Called with a decoded packet.\n   */\n  onPacket(packet) {\n    this.emit(\"packet\", packet);\n  }\n\n  /**\n   * Called upon close.\n   *\n   * @api private\n   */\n  onClose() {\n    this.readyState = \"closed\";\n    this.emit(\"close\");\n  }\n}\n\nmodule.exports = Transport;\n"],"mappings":"AAAA,MAAMA,MAAM,GAAGC,OAAO,CAAC,kBAAD,CAAtB;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,mBAAD,CAAvB;;AACA,MAAME,KAAK,GAAGF,OAAO,CAAC,OAAD,CAAP,CAAiB,4BAAjB,CAAd;;AAEA,MAAMG,SAAN,SAAwBF,OAAxB,CAAgC;EAC9B;AACF;AACA;AACA;AACA;AACA;EACEG,WAAW,CAACC,IAAD,EAAO;IAChB;IAEA,KAAKA,IAAL,GAAYA,IAAZ;IACA,KAAKC,KAAL,GAAaD,IAAI,CAACC,KAAlB;IACA,KAAKC,UAAL,GAAkB,EAAlB;IACA,KAAKC,MAAL,GAAcH,IAAI,CAACG,MAAnB;EACD;EAED;AACF;AACA;AACA;AACA;AACA;AACA;;;EACEC,OAAO,CAACC,GAAD,EAAMC,IAAN,EAAY;IACjB,MAAMC,GAAG,GAAG,IAAIC,KAAJ,CAAUH,GAAV,CAAZ;IACAE,GAAG,CAACE,IAAJ,GAAW,gBAAX;IACAF,GAAG,CAACG,WAAJ,GAAkBJ,IAAlB;IACA,KAAKK,IAAL,CAAU,OAAV,EAAmBJ,GAAnB;IACA,OAAO,IAAP;EACD;EAED;AACF;AACA;AACA;AACA;;;EACEK,IAAI,GAAG;IACL,IAAI,aAAa,KAAKV,UAAlB,IAAgC,OAAO,KAAKA,UAAhD,EAA4D;MAC1D,KAAKA,UAAL,GAAkB,SAAlB;MACA,KAAKW,MAAL;IACD;;IAED,OAAO,IAAP;EACD;EAED;AACF;AACA;AACA;AACA;;;EACEC,KAAK,GAAG;IACN,IAAI,cAAc,KAAKZ,UAAnB,IAAiC,WAAW,KAAKA,UAArD,EAAiE;MAC/D,KAAKa,OAAL;MACA,KAAKC,OAAL;IACD;;IAED,OAAO,IAAP;EACD;EAED;AACF;AACA;AACA;AACA;AACA;;;EACEC,IAAI,CAACC,OAAD,EAAU;IACZ,IAAI,WAAW,KAAKhB,UAApB,EAAgC;MAC9B,KAAKiB,KAAL,CAAWD,OAAX;IACD,CAFD,MAEO;MACL;MACArB,KAAK,CAAC,2CAAD,CAAL;IACD;EACF;EAED;AACF;AACA;AACA;AACA;;;EACEuB,MAAM,GAAG;IACP,KAAKlB,UAAL,GAAkB,MAAlB;IACA,KAAKmB,QAAL,GAAgB,IAAhB;IACA,KAAKV,IAAL,CAAU,MAAV;EACD;EAED;AACF;AACA;AACA;AACA;AACA;;;EACEW,MAAM,CAACC,IAAD,EAAO;IACX,MAAMC,MAAM,GAAG9B,MAAM,CAAC+B,YAAP,CAAoBF,IAApB,EAA0B,KAAKpB,MAAL,CAAYuB,UAAtC,CAAf;IACA,KAAKC,QAAL,CAAcH,MAAd;EACD;EAED;AACF;AACA;;;EACEG,QAAQ,CAACH,MAAD,EAAS;IACf,KAAKb,IAAL,CAAU,QAAV,EAAoBa,MAApB;EACD;EAED;AACF;AACA;AACA;AACA;;;EACER,OAAO,GAAG;IACR,KAAKd,UAAL,GAAkB,QAAlB;IACA,KAAKS,IAAL,CAAU,OAAV;EACD;;AA/G6B;;AAkHhCiB,MAAM,CAACC,OAAP,GAAiB/B,SAAjB"},"metadata":{},"sourceType":"script"}