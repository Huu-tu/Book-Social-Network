{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useEffect, useRef, useState } from \"react\";\nimport \"../../Post/Styles/createPost.css\";\nimport { BsFillTagFill, BsFillEmojiHeartEyesFill, BsPinMapFill, BsFillFileEarmarkImageFill } from \"react-icons/bs\";\nimport PostService from \"../Service/service\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function CreatePost() {\n  _s();\n\n  const description = useRef();\n  const [file, setFile] = useState(null);\n  const [data, setData] = useState({});\n\n  const getValue = async () => {\n    await PostService.getCurrentUser().then(res => {\n      // console.log(res.data)\n      setData(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  useEffect(() => {\n    getValue();\n  }, []);\n\n  const handleChange = event => {\n    setFile(event.target.files[0]);\n  };\n\n  const submitHandler = async e => {\n    e.preventDefault(); //post\n\n    const newPost = {\n      authorId: data._id,\n      authorName: data.fullName,\n      description: description.current.value,\n      image: file\n    };\n    await PostService.createPost(newPost);\n    window.location.reload();\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n}\n\n_s(CreatePost, \"h+qe4Glq2dTGs5EuNnAeECfMLiw=\");\n\n_c = CreatePost;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreatePost\");","map":{"version":3,"names":["React","useEffect","useRef","useState","BsFillTagFill","BsFillEmojiHeartEyesFill","BsPinMapFill","BsFillFileEarmarkImageFill","PostService","CreatePost","description","file","setFile","data","setData","getValue","getCurrentUser","then","res","catch","err","console","log","handleChange","event","target","files","submitHandler","e","preventDefault","newPost","authorId","_id","authorName","fullName","current","value","image","createPost","window","location","reload"],"sources":["C:/Users/Admin/Documents/GitHub/Project/Book-Social-Network/frontend/src/modules/Post/Pages/createPost.jsx"],"sourcesContent":["import React, {useEffect, useRef, useState} from \"react\";\r\nimport \"../../Post/Styles/createPost.css\";\r\nimport { BsFillTagFill, BsFillEmojiHeartEyesFill, BsPinMapFill, BsFillFileEarmarkImageFill} from \"react-icons/bs\";\r\nimport PostService from \"../Service/service\";\r\n\r\nexport default function CreatePost(){\r\n  const description = useRef();\r\n  const [file, setFile] = useState(null);\r\n  const[data, setData] = useState({});\r\n\r\n  const getValue = async ()=>{\r\n    await PostService.getCurrentUser()\r\n      .then((res) =>{\r\n        // console.log(res.data)\r\n        setData(res.data)\r\n      })\r\n      .catch((err)=>{\r\n        console.log(err)\r\n      })\r\n  }\r\n\r\n  useEffect(()=>{\r\n    getValue()\r\n  },[])\r\n\r\n  const handleChange = (event) =>{\r\n    setFile(event.target.files[0])\r\n  }\r\n\r\n  const submitHandler = async(e)=>{\r\n    e.preventDefault()\r\n\r\n    //post\r\n    const newPost = {\r\n      authorId: data._id,\r\n      authorName: data.fullName,\r\n      description: description.current.value,\r\n      image: file\r\n    }\r\n\r\n    await PostService.createPost(newPost)\r\n\r\n    window.location.reload();\r\n  }\r\n\r\n  return(\r\n    <>\r\n      \r\n    </>\r\n  )\r\n}"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,MAA1B,EAAkCC,QAAlC,QAAiD,OAAjD;AACA,OAAO,kCAAP;AACA,SAASC,aAAT,EAAwBC,wBAAxB,EAAkDC,YAAlD,EAAgEC,0BAAhE,QAAiG,gBAAjG;AACA,OAAOC,WAAP,MAAwB,oBAAxB;;;AAEA,eAAe,SAASC,UAAT,GAAqB;EAAA;;EAClC,MAAMC,WAAW,GAAGR,MAAM,EAA1B;EACA,MAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBT,QAAQ,CAAC,IAAD,CAAhC;EACA,MAAK,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAA/B;;EAEA,MAAMY,QAAQ,GAAG,YAAU;IACzB,MAAMP,WAAW,CAACQ,cAAZ,GACHC,IADG,CACGC,GAAD,IAAQ;MACZ;MACAJ,OAAO,CAACI,GAAG,CAACL,IAAL,CAAP;IACD,CAJG,EAKHM,KALG,CAKIC,GAAD,IAAO;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD,CAPG,CAAN;EAQD,CATD;;EAWAnB,SAAS,CAAC,MAAI;IACZc,QAAQ;EACT,CAFQ,EAEP,EAFO,CAAT;;EAIA,MAAMQ,YAAY,GAAIC,KAAD,IAAU;IAC7BZ,OAAO,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAb,CAAmB,CAAnB,CAAD,CAAP;EACD,CAFD;;EAIA,MAAMC,aAAa,GAAG,MAAMC,CAAN,IAAU;IAC9BA,CAAC,CAACC,cAAF,GAD8B,CAG9B;;IACA,MAAMC,OAAO,GAAG;MACdC,QAAQ,EAAElB,IAAI,CAACmB,GADD;MAEdC,UAAU,EAAEpB,IAAI,CAACqB,QAFH;MAGdxB,WAAW,EAAEA,WAAW,CAACyB,OAAZ,CAAoBC,KAHnB;MAIdC,KAAK,EAAE1B;IAJO,CAAhB;IAOA,MAAMH,WAAW,CAAC8B,UAAZ,CAAuBR,OAAvB,CAAN;IAEAS,MAAM,CAACC,QAAP,CAAgBC,MAAhB;EACD,CAdD;;EAgBA,oBACE,qCADF;AAKD;;GA7CuBhC,U;;KAAAA,U"},"metadata":{},"sourceType":"module"}